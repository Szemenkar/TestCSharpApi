{
	"info": {
		"_postman_id": "152ae2af-09a0-433e-a3f6-3275da0162ee",
		"name": "Example",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "34200869"
	},
	"item": [
		{
			"name": "Login as admin",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"email\": \"thomas@nodehill.com\",\n    \"password\": \"12345678\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://127.0.0.1:3001/api/login",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "Setup all test data",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = {",
							"  \"counter\": 0,",
							"  \"userCounter\": 0,",
							"  \"categories\": [",
							"    {",
							"      \"name\": \"Grönsaker\",",
							"      \"description\": \"Färska grönsaker\"",
							"    },",
							"    {",
							"      \"name\": \"Frukter\",",
							"      \"description\": \"Färska frukter\"",
							"    },",
							"    {",
							"      \"name\": \"Rengöringsprodukter\",",
							"      \"description\": \"Allt du behöver för att hålla hemmet rent\"",
							"    }",
							"  ],",
							"  \"products\": [",
							"    {",
							"      \"name\": \"Gurka\",",
							"      \"description\": \"Färsk, krispig gurka. Ekologiskt odlad i Bjärred\",",
							"      \"price\": 25,",
							"      \"categoryId\": \"Grönsaker\"",
							"    },",
							"    {",
							"      \"name\": \"Tomat\",",
							"      \"description\": \"Färsk tomat, perfekt mognad\",",
							"      \"price\": 7,",
							"      \"categoryId\": \"Grönsaker\"",
							"    },",
							"    {",
							"      \"name\": \"Mango\",",
							"      \"description\": \"Mango från Kalifornien, färsk och söt smak\",",
							"      \"price\": 16,",
							"      \"categoryId\": \"Frukter\"",
							"    }",
							"  ],",
							"  \"comments\": [",
							"    {",
							"      \"comment\": \"Very nice gurka\",",
							"      \"productId\": \"Gurka\",",
							"      \"userId\": 3",
							"    },",
							"    {",
							"      \"comment\": \"Tyckte inte så mycket om denna tomat\",",
							"      \"productId\": \"Tomat\",",
							"      \"userId\": 3",
							"    },",
							"    {",
							"      \"comment\": \"Inte alls så god mango\",",
							"      \"productId\": \"Mango\",",
							"      \"userId\": 3",
							"    }",
							"  ],",
							"  \"commentsFromUser\": [",
							"    {",
							"      \"comment\": \"Inte så nice gurka\",",
							"      \"productId\": \"Gurka\",",
							"      \"userId\": 4",
							"    }",
							"  ]",
							"}",
							"",
							"pm.collectionVariables.set(\"testData\",testData);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001"
				}
			},
			"response": []
		},
		{
			"name": "Create categories",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");",
							"",
							"let category = testData.categories[testData.counter];",
							"",
							"let response = pm.response;",
							"",
							"let responseData = pm.response.json();",
							"",
							"pm.test(\"We should get an ok (code 200) back\",()=> {",
							"    pm.expect(response.code).to.equal(200);",
							"});",
							"",
							"pm.test(\"Expect rowsAffected to equal 1\", () => {",
							"    pm.expect(responseData.rowsAffected).to.equal(1);",
							"});",
							"",
							"pm.test(\"We should get an insertId back\", () => {",
							"    pm.expect(responseData.insertId).to.be.a('number');",
							"    category.id = responseData.insertId;",
							"    console.log(\"The category has been created\", category);",
							"});",
							"",
							"testData.counter++;",
							"pm.collectionVariables.set(\"testData\",testData);",
							"",
							"if(testData.categories[testData.counter])",
							"{",
							"    pm.execution.setNextRequest(\"Create categories\");",
							"}",
							"else",
							"{",
							"    console.log(\"All categories have been created.\");",
							"    testData.counter = 0;",
							"    pm.collectionVariables.set(\"testData\",testData);",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");",
							"",
							"let category = testData.categories[testData.counter];",
							"",
							"pm.variables.set(\"name\", category.name);",
							"pm.variables.set(\"description\", category.description);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"name\": \"{{name}}\",\n    \"description\": \"{{description}}\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://127.0.0.1:3001/api/categories",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"categories"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get categories",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");",
							"",
							"let category = testData.categories[testData.counter];",
							"",
							"pm.variables.set(\"id\", category.id);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");",
							"",
							"let category = testData.categories[testData.counter];",
							"",
							"let response = pm.response;",
							"",
							"let responseData = pm.response.json();",
							"",
							"pm.test(\"We should get an ok (code 200) back\",()=> {",
							"    pm.expect(response.code).to.equal(200);",
							"});",
							"",
							"pm.test(\"Test that the correct category data is returned\", ()=> {",
							"  console.log(\"category\", category);",
							"  console.log(\"responseData\", responseData);",
							"  pm.expect(category).to.deep.equal(responseData); ",
							"});",
							"",
							"testData.counter++;",
							"pm.collectionVariables.set(\"testData\",testData);",
							"",
							"if(testData.categories[testData.counter])",
							"{",
							"    pm.execution.setNextRequest(\"Get categories\");",
							"}",
							"else",
							"{",
							"    console.log(\"All categories have been read correctly.\");",
							"    testData.counter = 0;",
							"    pm.collectionVariables.set(\"testData\",testData);",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/categories/{{id}}",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"categories",
						"{{id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Change categories",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");",
							"",
							"let category = testData.categories[testData.counter];",
							"",
							"let response = pm.response;",
							"",
							"let responseData = pm.response.json();",
							"",
							"pm.test(\"We should get an ok (code 200) back\",()=> {",
							"    pm.expect(response.code).to.equal(200);",
							"});",
							"",
							"pm.test(\"Expect rowsAffected to equal 1\", () => {",
							"    pm.expect(responseData.rowsAffected).to.equal(1);",
							"});",
							"",
							"testData.counter++;",
							"pm.collectionVariables.set(\"testData\",testData);",
							"",
							"if(testData.categories[testData.counter])",
							"{",
							"    pm.execution.setNextRequest(\"Change categories\");",
							"}",
							"else",
							"{",
							"    console.log(\"All category-decriptions have been changed.\");",
							"    testData.counter = 0;",
							"    pm.collectionVariables.set(\"testData\",testData);",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");",
							"",
							"let category = testData.categories[testData.counter];",
							"",
							"category.description += \" Some extra text in the description.\";",
							"pm.collectionVariables.set(\"testData\", testData);",
							"",
							"pm.variables.set(\"id\", category.id);",
							"",
							"pm.variables.set(\"description\", category.description);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"description\": \"{{description}}\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://127.0.0.1:3001/api/categories/{{id}}",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"categories",
						"{{id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get categories after change",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");",
							"",
							"let category = testData.categories[testData.counter];",
							"",
							"pm.variables.set(\"id\", category.id);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");",
							"",
							"let category = testData.categories[testData.counter];",
							"",
							"let response = pm.response;",
							"",
							"let responseData = pm.response.json();",
							"",
							"pm.test(\"We should get an ok (code 200) back\",()=> {",
							"    pm.expect(response.code).to.equal(200);",
							"});",
							"",
							"pm.test(\"Test that the correct category data is returned\", ()=> {",
							"  console.log(\"category\", category);",
							"  console.log(\"responseData\", responseData);",
							"  pm.expect(category).to.deep.equal(responseData); ",
							"});",
							"",
							"testData.counter++;",
							"pm.collectionVariables.set(\"testData\",testData);",
							"",
							"if(testData.categories[testData.counter])",
							"{",
							"    pm.execution.setNextRequest(\"Get categories after change\");",
							"}",
							"else",
							"{",
							"    console.log(\"All categories have been read correctly after the change.\");",
							"    testData.counter = 0;",
							"    pm.collectionVariables.set(\"testData\",testData);",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/categories/{{id}}",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"categories",
						"{{id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create products",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");",
							"",
							"let product = testData.products[testData.counter];",
							"",
							"let categoryWithMatchingName = testData.categories.find(category => {",
							"    return category.name == product.categoryId",
							"});",
							"",
							"product.categoryId = categoryWithMatchingName.id;",
							"",
							"pm.collectionVariables.set(\"testData\",testData);",
							"",
							"pm.variables.set(\"name\", product.name);",
							"pm.variables.set(\"description\", product.description);",
							"pm.variables.set(\"price\", product.price);",
							"pm.variables.set(\"categoryId\", product.categoryId);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");",
							"",
							"let product = testData.products[testData.counter];",
							"",
							"let response = pm.response;",
							"",
							"let responseData = pm.response.json();",
							"",
							"pm.test(\"We should get an ok (code 200) back\",()=> {",
							"    pm.expect(response.code).to.equal(200);",
							"});",
							"",
							"pm.test(\"Expect rowsAffected to equal 1\", () => {",
							"    pm.expect(responseData.rowsAffected).to.equal(1);",
							"});",
							"",
							"pm.test(\"We should get an insertId back\", () => {",
							"    pm.expect(responseData.insertId).to.be.a('number');",
							"    product.id = responseData.insertId;",
							"    console.log(\"The product has been created\", product);",
							"});",
							"",
							"testData.counter++;",
							"pm.collectionVariables.set(\"testData\",testData);",
							"",
							"if(testData.products[testData.counter])",
							"{",
							"    pm.execution.setNextRequest(\"Create products\");",
							"}",
							"else",
							"{",
							"    console.log(\"All products have been created.\");",
							"    testData.counter = 0;",
							"    pm.collectionVariables.set(\"testData\",testData);",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"name\": \"{{name}}\",\n    \"description\": \"{{description}}\",\n    \"price\": {{price}},\n    \"categoryId\": {{categoryId}}\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://127.0.0.1:3001/api/products",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"products"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get products",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let product = testData.products[testData.counter];\r",
							"\r",
							"pm.variables.set(\"id\", product.id);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let product = testData.products[testData.counter];\r",
							"\r",
							"let response = pm.response;\r",
							"\r",
							"let responseData = pm.response.json();\r",
							"\r",
							"pm.test(\"We should get an ok (code 200) back\",()=> {\r",
							"    pm.expect(response.code).to.equal(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Test that the correct product data is returned\", ()=> {\r",
							"  console.log(\"product\", product);\r",
							"  console.log(\"responseData\", responseData);\r",
							"  pm.expect(product).to.deep.equal(responseData);\r",
							"});\r",
							"\r",
							"testData.counter++;\r",
							"pm.collectionVariables.set(\"testData\",testData);\r",
							"\r",
							"if(testData.products[testData.counter])\r",
							"{\r",
							"    pm.execution.setNextRequest(\"Get products\");\r",
							"}\r",
							"else\r",
							"{\r",
							"    console.log(\"All products have been read correctly.\");\r",
							"    testData.counter = 0;\r",
							"    pm.collectionVariables.set(\"testData\",testData);\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/products/{{id}}",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"products",
						"{{id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create comments",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let comment = testData.comments[testData.counter];\r",
							"\r",
							"let productWithMatchingName = testData.products.find(product => {\r",
							"    return product.name == comment.productId\r",
							"});\r",
							"\r",
							"comment.productId = productWithMatchingName.id;\r",
							"\r",
							"pm.collectionVariables.set(\"testData\",testData);\r",
							"\r",
							"pm.variables.set(\"comment\", comment.comment);\r",
							"pm.variables.set(\"productId\", comment.productId);\r",
							"pm.variables.set(\"userId\", comment.userId);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let comment = testData.comments[testData.counter];\r",
							"\r",
							"let response = pm.response;\r",
							"\r",
							"let responseData = pm.response.json();\r",
							"\r",
							"pm.test(\"We should get an ok (code 200) back\",()=> {\r",
							"    pm.expect(response.code).to.equal(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Expect rowsAffected to equal 1\", () => {\r",
							"    pm.expect(responseData.rowsAffected).to.equal(1);\r",
							"});\r",
							"\r",
							"pm.test(\"We should get an insertId back\", () => {\r",
							"    pm.expect(responseData.insertId).to.be.a('number');\r",
							"    comment.id = responseData.insertId;\r",
							"    console.log(\"The comment has been created\", comment);\r",
							"});\r",
							"\r",
							"testData.counter++;\r",
							"pm.collectionVariables.set(\"testData\",testData);\r",
							"\r",
							"if(testData.comments[testData.counter])\r",
							"{\r",
							"    pm.execution.setNextRequest(\"Create comments\");\r",
							"}\r",
							"else\r",
							"{\r",
							"    console.log(\"All comments have been created.\");\r",
							"    testData.counter = 0;\r",
							"    pm.collectionVariables.set(\"testData\",testData);\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"comment\": \"{{comment}}\",\r\n    \"productId\": {{productId}},\r\n    \"userId\": {{userId}}\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://127.0.0.1:3001/api/comments",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"comments"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get comments",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let comment = testData.comments[testData.counter];\r",
							"\r",
							"pm.variables.set(\"id\", comment.id);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let comment = testData.comments[testData.counter];\r",
							"\r",
							"let response = pm.response;\r",
							"\r",
							"let responseData = pm.response.json();\r",
							"\r",
							"pm.test(\"We should get an ok (code 200) back\",()=> {\r",
							"    pm.expect(response.code).to.equal(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Test that the correct comment data is returned\", ()=> {\r",
							"  console.log(\"comment\", comment);\r",
							"  console.log(\"responseData\", responseData);\r",
							"  pm.expect(comment).to.deep.equal(responseData);\r",
							"});\r",
							"\r",
							"testData.counter++;\r",
							"pm.collectionVariables.set(\"testData\",testData);\r",
							"\r",
							"if(testData.comments[testData.counter])\r",
							"{\r",
							"    pm.execution.setNextRequest(\"Get comments\");\r",
							"}\r",
							"else\r",
							"{\r",
							"    console.log(\"All comments have been read correctly.\");\r",
							"    testData.counter = 0;\r",
							"    pm.collectionVariables.set(\"testData\",testData);\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/comments/{{id}}",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"comments",
						"{{id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Logout admin",
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/login",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create categories as visitor",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let response = pm.response;",
							"",
							"let responseData = pm.response.json();",
							"",
							"pm.test(\"We should get method not allowed (code 405) back\",()=> {",
							"    pm.expect(response.code).to.equal(405);",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/categories",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"categories"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get categories as visitor",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");",
							"",
							"let category = testData.categories[testData.counter];",
							"",
							"pm.variables.set(\"id\", category.id);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");",
							"",
							"let category = testData.categories[testData.counter];",
							"",
							"let response = pm.response;",
							"",
							"let responseData = pm.response.json();",
							"",
							"pm.test(\"We should get an ok (code 200) back\",()=> {",
							"    pm.expect(response.code).to.equal(200);",
							"});",
							"",
							"pm.test(\"Test that the correct category data is returned\", ()=> {",
							"  console.log(\"category\", category);",
							"  console.log(\"responseData\", responseData);",
							"  pm.expect(category).to.deep.equal(responseData); ",
							"});",
							"",
							"testData.counter++;",
							"pm.collectionVariables.set(\"testData\",testData);",
							"",
							"if(testData.categories[testData.counter])",
							"{",
							"    pm.execution.setNextRequest(\"Get categories as visitor\");",
							"}",
							"else",
							"{",
							"    console.log(\"All categories have been read correctly.\");",
							"    testData.counter = 0;",
							"    pm.collectionVariables.set(\"testData\",testData);",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/categories/{{id}}",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"categories",
						"{{id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Change categories as visitor",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let response = pm.response;",
							"",
							"let responseData = pm.response.json();",
							"",
							"pm.test(\"We should get method not allowed (code 405) back\",()=> {",
							"    pm.expect(response.code).to.equal(405);",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/categories",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"categories"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create products as visitor",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"let response = pm.response;",
							"",
							"let responseData = pm.response.json();",
							"",
							"pm.test(\"We should get method not allowed (code 405) back\",()=> {",
							"    pm.expect(response.code).to.equal(405);",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/products",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"products"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get products as visitor",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let product = testData.products[testData.counter];\r",
							"\r",
							"pm.variables.set(\"id\", product.id);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let product = testData.products[testData.counter];\r",
							"\r",
							"let response = pm.response;\r",
							"\r",
							"let responseData = pm.response.json();\r",
							"\r",
							"pm.test(\"We should get an ok (code 200) back\",()=> {\r",
							"    pm.expect(response.code).to.equal(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Test that the correct product data is returned\", ()=> {\r",
							"  console.log(\"product\", product);\r",
							"  console.log(\"responseData\", responseData);\r",
							"  pm.expect(product).to.deep.equal(responseData);\r",
							"});\r",
							"\r",
							"testData.counter++;\r",
							"pm.collectionVariables.set(\"testData\",testData);\r",
							"\r",
							"if(testData.products[testData.counter])\r",
							"{\r",
							"    pm.execution.setNextRequest(\"Get products as visitor\");\r",
							"}\r",
							"else\r",
							"{\r",
							"    console.log(\"All products have been read correctly.\");\r",
							"    testData.counter = 0;\r",
							"    pm.collectionVariables.set(\"testData\",testData);\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/products/{{id}}",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"products",
						"{{id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create comments as visitor",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"let response = pm.response;\r",
							"\r",
							"let responseData = pm.response.json();\r",
							"\r",
							"pm.test(\"We should get method not allowed (code 405) back\",()=> {\r",
							"    pm.expect(response.code).to.equal(405);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/comments",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"comments"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get comments as visitor",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let comment = testData.comments[testData.counter];\r",
							"\r",
							"pm.variables.set(\"id\", comment.id);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let comment = testData.comments[testData.counter];\r",
							"\r",
							"let response = pm.response;\r",
							"\r",
							"let responseData = pm.response.json();\r",
							"\r",
							"pm.test(\"We should get an ok (code 200) back\",()=> {\r",
							"    pm.expect(response.code).to.equal(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Test that the correct comment data is returned\", ()=> {\r",
							"  console.log(\"comment\", comment);\r",
							"  console.log(\"responseData\", responseData);\r",
							"  pm.expect(comment).to.deep.equal(responseData);\r",
							"});\r",
							"\r",
							"testData.counter++;\r",
							"pm.collectionVariables.set(\"testData\",testData);\r",
							"\r",
							"if(testData.comments[testData.counter])\r",
							"{\r",
							"    pm.execution.setNextRequest(\"Get comments as visitor\");\r",
							"}\r",
							"else\r",
							"{\r",
							"    console.log(\"All comments have been read correctly.\");\r",
							"    testData.counter = 0;\r",
							"    pm.collectionVariables.set(\"testData\",testData);\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/comments/{{id}}",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"comments",
						"{{id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login as user",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"email\": \"olle@nodehill.com\",\n    \"password\": \"12345678\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://127.0.0.1:3001/api/login",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create categories as user",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let response = pm.response;",
							"",
							"let responseData = pm.response.json();",
							"",
							"pm.test(\"We should get method not allowed (code 405) back\",()=> {",
							"    pm.expect(response.code).to.equal(405);",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/categories",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"categories"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get categories as user",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");",
							"",
							"let category = testData.categories[testData.counter];",
							"",
							"pm.variables.set(\"id\", category.id);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");",
							"",
							"let category = testData.categories[testData.counter];",
							"",
							"let response = pm.response;",
							"",
							"let responseData = pm.response.json();",
							"",
							"pm.test(\"We should get an ok (code 200) back\",()=> {",
							"    pm.expect(response.code).to.equal(200);",
							"});",
							"",
							"pm.test(\"Test that the correct category data is returned\", ()=> {",
							"  console.log(\"category\", category);",
							"  console.log(\"responseData\", responseData);",
							"  pm.expect(category).to.deep.equal(responseData); ",
							"});",
							"",
							"testData.counter++;",
							"pm.collectionVariables.set(\"testData\",testData);",
							"",
							"if(testData.categories[testData.counter])",
							"{",
							"    pm.execution.setNextRequest(\"Get categories as user\");",
							"}",
							"else",
							"{",
							"    console.log(\"All categories have been read correctly.\");",
							"    testData.counter = 0;",
							"    pm.collectionVariables.set(\"testData\",testData);",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/categories/{{id}}",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"categories",
						"{{id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Change categories as user",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let response = pm.response;",
							"",
							"let responseData = pm.response.json();",
							"",
							"pm.test(\"We should get method not allowed (code 405) back\",()=> {",
							"    pm.expect(response.code).to.equal(405);",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/categories",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"categories"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create products as user",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"let response = pm.response;",
							"",
							"let responseData = pm.response.json();",
							"",
							"pm.test(\"We should get method not allowed (code 405) back\",()=> {",
							"    pm.expect(response.code).to.equal(405);",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/products",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"products"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get products as user",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let product = testData.products[testData.counter];\r",
							"\r",
							"pm.variables.set(\"id\", product.id);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let product = testData.products[testData.counter];\r",
							"\r",
							"let response = pm.response;\r",
							"\r",
							"let responseData = pm.response.json();\r",
							"\r",
							"pm.test(\"We should get an ok (code 200) back\",()=> {\r",
							"    pm.expect(response.code).to.equal(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Test that the correct product data is returned\", ()=> {\r",
							"  console.log(\"product\", product);\r",
							"  console.log(\"responseData\", responseData);\r",
							"  pm.expect(product).to.deep.equal(responseData);\r",
							"});\r",
							"\r",
							"testData.counter++;\r",
							"pm.collectionVariables.set(\"testData\",testData);\r",
							"\r",
							"if(testData.products[testData.counter])\r",
							"{\r",
							"    pm.execution.setNextRequest(\"Get products as user\");\r",
							"}\r",
							"else\r",
							"{\r",
							"    console.log(\"All products have been read correctly.\");\r",
							"    testData.counter = 0;\r",
							"    pm.collectionVariables.set(\"testData\",testData);\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/products/{{id}}",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"products",
						"{{id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create comments as user",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let comment = testData.commentsFromUser[testData.counter];\r",
							"\r",
							"let productWithMatchingName = testData.products.find(product => {\r",
							"    return product.name == comment.productId\r",
							"});\r",
							"\r",
							"comment.productId = productWithMatchingName.id;\r",
							"\r",
							"pm.collectionVariables.set(\"testData\",testData);\r",
							"\r",
							"pm.variables.set(\"comment\", comment.comment);\r",
							"pm.variables.set(\"productId\", comment.productId);\r",
							"pm.variables.set(\"userId\", comment.userId);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let comment = testData.commentsFromUser[testData.counter];\r",
							"\r",
							"let response = pm.response;\r",
							"\r",
							"let responseData = pm.response.json();\r",
							"\r",
							"pm.test(\"We should get an ok (code 200) back\",()=> {\r",
							"    pm.expect(response.code).to.equal(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Expect rowsAffected to equal 1\", () => {\r",
							"    pm.expect(responseData.rowsAffected).to.equal(1);\r",
							"});\r",
							"\r",
							"pm.test(\"We should get an insertId back\", () => {\r",
							"    pm.expect(responseData.insertId).to.be.a('number');\r",
							"    comment.id = responseData.insertId;\r",
							"    console.log(\"The comment has been created\", comment);\r",
							"});\r",
							"\r",
							"testData.counter++;\r",
							"pm.collectionVariables.set(\"testData\",testData);\r",
							"\r",
							"if(testData.commentsFromUser[testData.counter])\r",
							"{\r",
							"    pm.execution.setNextRequest(\"Create comments as user\");\r",
							"}\r",
							"else\r",
							"{\r",
							"    console.log(\"All comments have been created.\");\r",
							"    testData.counter = 0;\r",
							"    pm.collectionVariables.set(\"testData\",testData);\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"comment\": \"{{comment}}\",\r\n    \"productId\": {{productId}},\r\n    \"userId\": {{userId}}\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://127.0.0.1:3001/api/comments",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"comments"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get comments as user",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let comment = testData.comments[testData.counter];\r",
							"\r",
							"pm.variables.set(\"id\", comment.id);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let comment = testData.comments[testData.counter];\r",
							"\r",
							"let response = pm.response;\r",
							"\r",
							"let responseData = pm.response.json();\r",
							"\r",
							"pm.test(\"We should get an ok (code 200) back\",()=> {\r",
							"    pm.expect(response.code).to.equal(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Test that the correct comment data is returned\", ()=> {\r",
							"  console.log(\"comment\", comment);\r",
							"  console.log(\"responseData\", responseData);\r",
							"  pm.expect(comment).to.deep.equal(responseData);\r",
							"});\r",
							"\r",
							"testData.counter++;\r",
							"pm.collectionVariables.set(\"testData\",testData);\r",
							"\r",
							"if(testData.comments[testData.counter])\r",
							"{\r",
							"    pm.execution.setNextRequest(\"Get comments as user\");\r",
							"}\r",
							"else\r",
							"{\r",
							"    console.log(\"All comments have been read correctly.\");\r",
							"    testData.counter = 0;\r",
							"    pm.collectionVariables.set(\"testData\",testData);\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/comments/{{id}}",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"comments",
						"{{id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Logout user",
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/login",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login as admin",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"email\": \"thomas@nodehill.com\",\n    \"password\": \"12345678\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://127.0.0.1:3001/api/login",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete comments",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let comment = testData.comments[testData.counter];\r",
							"\r",
							"pm.variables.set(\"id\", comment.id);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let comment = testData.comments[testData.counter];\r",
							"\r",
							"let response = pm.response;\r",
							"\r",
							"let responseData = pm.response.json();\r",
							"\r",
							"pm.test(\"We should get an ok (code 200) back\",()=> {\r",
							"    pm.expect(response.code).to.equal(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Expect rowsAffected to equal 1\", () => {\r",
							"    pm.expect(responseData.rowsAffected).to.equal(1);\r",
							"});\r",
							"\r",
							"testData.counter++;\r",
							"pm.collectionVariables.set(\"testData\",testData);\r",
							"\r",
							"if(testData.comments[testData.counter])\r",
							"{\r",
							"    pm.execution.setNextRequest(\"Delete comments\");\r",
							"}\r",
							"\r",
							"else\r",
							"{\r",
							"    console.log(\"All comments have been deleted correctly.\");\r",
							"    testData.counter = 0;\r",
							"    pm.collectionVariables.set(\"testData\",testData);\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/comments/{{id}}",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"comments",
						"{{id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete user comments",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let commentFromUser = testData.commentsFromUser[testData.userCounter];\r",
							"\r",
							"pm.variables.set(\"id\", commentFromUser.id);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let commentFromUser = testData.commentsFromUser[testData.userCounter];\r",
							"\r",
							"let response = pm.response;\r",
							"\r",
							"let responseData = pm.response.json();\r",
							"\r",
							"pm.test(\"We should get an ok (code 200) back\",()=> {\r",
							"    pm.expect(response.code).to.equal(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Expect rowsAffected to equal 1\", () => {\r",
							"    pm.expect(responseData.rowsAffected).to.equal(1);\r",
							"});\r",
							"\r",
							"testData.userCounter++;\r",
							"pm.collectionVariables.set(\"testData\",testData);\r",
							"\r",
							"if(testData.commentsFromUser[testData.userCounter])\r",
							"{\r",
							"    pm.execution.setNextRequest(\"Delete user comments\");\r",
							"}\r",
							"else\r",
							"{\r",
							"    console.log(\"All comments have been deleted correctly.\");\r",
							"    testData.userCounter = 0;\r",
							"    pm.collectionVariables.set(\"testData\",testData);\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/comments/{{id}}",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"comments",
						"{{id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete products",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let product = testData.products[testData.counter];\r",
							"\r",
							"let response = pm.response;\r",
							"\r",
							"let responseData = pm.response.json();\r",
							"\r",
							"pm.test(\"We should get an ok (code 200) back\",()=> {\r",
							"    pm.expect(response.code).to.equal(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Expect rowsAffected to equal 1\", () => {\r",
							"    pm.expect(responseData.rowsAffected).to.equal(1);\r",
							"});\r",
							"\r",
							"testData.counter++;\r",
							"pm.collectionVariables.set(\"testData\",testData);\r",
							"\r",
							"if(testData.products[testData.counter])\r",
							"{\r",
							"    pm.execution.setNextRequest(\"Delete products\");\r",
							"}\r",
							"else\r",
							"{\r",
							"    console.log(\"All products have been deleted correctly.\");\r",
							"    testData.counter = 0;\r",
							"    pm.collectionVariables.set(\"testData\",testData);\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");\r",
							"\r",
							"let product = testData.products[testData.counter];\r",
							"\r",
							"pm.variables.set(\"id\", product.id);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/products/{{id}}",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"products",
						"{{id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete categories",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");",
							"",
							"let category = testData.categories[testData.counter];",
							"",
							"let response = pm.response;",
							"",
							"let responseData = pm.response.json();",
							"",
							"pm.test(\"We should get an ok (code 200) back\",()=> {",
							"    pm.expect(response.code).to.equal(200);",
							"});",
							"",
							"pm.test(\"Expect rowsAffected to equal 1\", () => {",
							"    pm.expect(responseData.rowsAffected).to.equal(1);",
							"});",
							"",
							"testData.counter++;",
							"pm.collectionVariables.set(\"testData\",testData);",
							"",
							"if(testData.categories[testData.counter])",
							"{",
							"    pm.execution.setNextRequest(\"Delete categories\");",
							"}",
							"else",
							"{",
							"    console.log(\"All categories have been deleted correctly.\");",
							"    testData.counter = 0;",
							"    pm.collectionVariables.set(\"testData\",testData);",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"let testData = pm.collectionVariables.get(\"testData\");",
							"",
							"let category = testData.categories[testData.counter];",
							"",
							"pm.variables.set(\"id\", category.id);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/categories/{{id}}",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"categories",
						"{{id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Logout admin",
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:3001/api/login",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "3001",
					"path": [
						"api",
						"login"
					]
				}
			},
			"response": []
		}
	],
	"variable": [
		{
			"key": "data",
			"value": ""
		},
		{
			"key": "testData",
			"value": ""
		},
		{
			"key": "testDataUser",
			"value": ""
		}
	]
}